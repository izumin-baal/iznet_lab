name: nc55-3-8
prefix: ""

topology:
  kinds:
    xrd:
      image: ${IOSXR_CP_IMAGE}
    ceos:
      image: ${CEOS_IMAGE}
    vr-n9kv:
      image: ${VR_N9KV_IMAGE}
    crpd:
      image: ${CRPD_IMAGE}
    linux:
      image: ${LINUX_IMAGE}
  nodes:
    RT-01:
      kind: ceos
      startup-config: config/RT-01.conf
    RT-02:
      kind: ceos
      startup-config: config/RT-02.conf
    RT-03:
      kind: vr-n9kv
      startup-config: config/RT-03.conf
    RT-04:
      kind: vr-n9kv
      startup-config: config/RT-04.conf
    SV-01:
      kind: linux
      exec:
        - ip addr add 10.1.1.1/24 dev eth1
        - ip route add 10.0.0.0/8 via 10.1.1.254
        - ip route add 172.16.0.0/16 via 10.1.1.254
        - ip route add 192.168.0.0/16 via 10.1.1.254
    SV-02:
      kind: linux
      exec:
        - ip addr add 10.1.2.1/24 dev eth1
        - ip route add 10.0.0.0/8 via 10.1.2.254
        - ip route add 172.16.0.0/16 via 10.1.2.254
        - ip route add 192.168.0.0/16 via 10.1.2.254
    SV-03:
      kind: linux
      exec:
        - ip addr add 10.2.1.1/24 dev eth1
        - ip route add 10.0.0.0/8 via 10.2.1.254
        - ip route add 172.16.0.0/16 via 10.2.1.254
        - ip route add 192.168.0.0/16 via 10.2.1.254
    SV-04:
      kind: linux
      exec:
        - ip addr add 10.2.2.1/24 dev eth1
        - ip route add 10.0.0.0/8 via 10.2.2.254
        - ip route add 172.16.0.0/16 via 10.2.2.254
        - ip route add 192.168.0.0/16 via 10.2.2.254
  links:
    - endpoints: ["RT-01:eth2", "RT-02:eth1"]
    - endpoints: ["RT-01:eth1", "RT-03:eth1"]
    - endpoints: ["RT-03:eth2", "RT-04:eth1"]
    - endpoints: ["RT-02:eth2", "SV-01:eth1"]
    - endpoints: ["RT-02:eth3", "SV-02:eth1"]
    - endpoints: ["RT-04:eth2", "SV-03:eth1"]
    - endpoints: ["RT-04:eth3", "SV-04:eth1"]
